; PlatformIO Project Configuration File
; IMPORTANT RULES:
; - Keep this file stable. Do NOT rewrite it every time.
; - When you need a new external library, ONLY append it under lib_deps.
; - All comments are intentionally in English (as requested).

[platformio]
default_envs = gen4_esp32s3_r8n16
boards_dir = boards

; ---------------------------
; Common settings (shared)
; ---------------------------
[env]
framework = arduino
monitor_speed = 115200
monitor_filters = time

; Project-wide compile-time settings (keep stable)
build_flags =
  ; Local libraries include paths (PlatformIO usually finds them, but these help IntelliSense)
  -I lib/PrintController/src
  -I lib/Rs485ModBus/src
  -I lib/Sensors

  ; RS485 defaults for ESP32-S3 (adjust only if wiring changes)
  -D RS485_BAUD=9600
  -D RS485_RX_PIN=17
  -D RS485_TX_PIN=18
  -D RS485_DE_PIN=21

  ; Debug modes (0=minimal, 1=io, 2=full trace)
  -D DEBUG_MODE_DEFAULT=0

lib_deps =
  ; Add external libs here ONLY when needed (append new lines)
  ; Example:
  ; frankboesing/FastCRC@^1.41

; ---------------------------
; ESP32-S3 GEN4 (your main target)
; ---------------------------
[env:gen4_esp32s3_r8n16]
platform = espressif32
board = 4d_systems_esp32s3_gen4_r8n16
upload_speed = 921600
monitor_speed = 115200

; If you need PSRAM-specific settings later, we will add them here without rewriting the file.

; ---------------------------
; Mega2560 (optional test target)
; ---------------------------
[env:mega2560]
platform = atmelavr
board = megaatmega2560
monitor_speed = 115200
